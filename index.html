<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <title>AI Policy Builder</title>
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <style>
    body { font-family: Arial, sans-serif; margin:0; background:#f5f5f5; color:#333; }
    .container { max-width:900px; margin:40px auto; background:white; padding:30px; border-radius:8px; box-shadow:0 0 10px rgba(0,0,0,0.1); }
    h1,h2,h3 { color:#005b96; }
    label { display:block; margin-top:10px; font-weight:bold; }
    input[type="text"], select, textarea { width:100%; padding:8px; margin:4px 0 12px; border:1px solid #ccc; border-radius:4px; }
    textarea { height:80px; }
    button { margin:10px 5px 0 0; padding:10px 18px; background:#005b96; color:white; border:none; border-radius:4px; cursor:pointer; }
    button:hover { background:#003f6d; }
    .skip-btn { background:#999; } .skip-btn:hover { background:#777; }
    .info-icon { cursor:pointer; font-size:1.2em; margin-left:5px; }
    .policy-output { background:#f9f9f9; padding:20px; border:1px dashed #999; border-radius:6px; max-height:600px; overflow-y:auto; }
    .modal { display:none; position:fixed; z-index:1000; top:0; left:0; width:100%; height:100%; background:rgba(0,0,0,0.6); padding-top:60px; }
    .modal-content { background:white; margin:auto; padding:20px; border:1px solid #888; width:80%; max-width:500px; border-radius:8px; position:relative; }
    .close-btn { position:absolute; right:15px; top:10px; font-size:20px; font-weight:bold; cursor:pointer; }
    .close-btn:hover { color:red; }
    hr { margin:20px 0; }
    ul { margin-left:20px; }
    table { width:100%; border-collapse:collapse; margin:10px 0; }
    table, th, td { border:1px solid #ccc; }
    th, td { padding:8px; text-align:left; }
  </style>
</head>
<body>
  <div class="container">
    <h1>AI Policy Builder</h1>
    <p>Use this wizard to generate a comprehensive AI policy you can paste directly into Word or Google Docs.</p>
    <div id="wizard"></div>
  </div>

  <div id="infoModal" class="modal">
    <div class="modal-content">
      <span id="closeModal" class="close-btn">✖️</span>
      <div id="modalText"></div>
    </div>
  </div>

  <script>
    const steps = [
      { id:'company', title:'Company Info', info:'Your company name, industry, jurisdiction & tone.', fields:['companyName','industry','jurisdiction','tone'] },
      { id:'scope', title:'Scope', info:'Who the policy applies to.', fields:['scope'] },
      { id:'definitions', title:'Definitions', info:'Include expanded definitions & appendix?', fields:['includeDefinitions'] },
      { id:'privacy', title:'Data Privacy & Security', info:'Data types, anonymization, secure environments.', fields:['personalData','tradeSecrets','financialData','anonymize','encryption'] },
      { id:'prohibited', title:'Prohibited Use Cases', info:'Select common prohibited uses + free-text.', fields:['prohibitedUses','customProhibited'] },
      { id:'approved', title:'Approved Use & Governance', info:'Approved tools, ethics & security reviews.', fields:['approvedTools','requireApproval'] },
      { id:'ip', title:'IP & Trade Secrets', info:'Ownership & protection of outputs.', fields:['ipOwnership','protectTradeSecrets'] },
      { id:'fairness', title:'Fairness & Bias', info:'Regular bias/fairness audits.', fields:['biasReview'] },
      { id:'compliance', title:'Compliance & Legal', info:'Select laws + export, code references.', fields:['laws','customLaws','codeReference'] },
      { id:'transparency', title:'Transparency & Explainability', info:'Public sharing & explainability.', fields:['publicDisclosure','explainability'] },
      { id:'training', title:'Training & Awareness', info:'Curriculum & acknowledgments.', fields:['training','acknowledgment'] },
      { id:'vendor', title:'Vendor Oversight', info:'Third-party AI vendor requirements.', fields:['vendorOversight'] },
      { id:'risk', title:'Risk Assessment', info:'Mandatory risk assessments.', fields:['riskAssessment'] },
      { id:'incidents', title:'Incident Reporting', info:'Process for AI security incidents.', fields:['incidentProcess'] },
      { id:'enforcement', title:'Enforcement', info:'Consequences for violations.', fields:['enforcement'] },
      { id:'communication', title:'Public Communication', info:'How you share AI practices.', fields:['publicComm'] },
      { id:'review', title:'Review & Updates', info:'Frequency & responsible team.', fields:['reviewFrequency','responsibleTeam'] },
      { id:'signoff', title:'Sign-off', info:'Require signatures?', fields:['signOff'] }
    ];
    const formData = {};
    let currentStep = 0;
    const wizardDiv = document.getElementById('wizard');
    const modal = document.getElementById('infoModal');
    const modalText = document.getElementById('modalText');
    const closeModal = document.getElementById('closeModal');
    function getFieldHTML(f) {
      switch(f) {
        case 'companyName':
          return '<label>Company Name:</label><input type="text" id="companyName">';
        case 'industry':
          return `<label>Industry:</label><select id="industry">
                    <option value="">-- Select --</option>
                    <option>Healthcare / Medical</option><option>Financial Services</option>
                    <option>Insurance</option><option>Legal / Compliance</option>
                    <option>Education</option><option>Technology</option>
                    <option>Manufacturing</option><option>Retail / E-commerce</option>
                    <option>Other</option>
                  </select>`;
        case 'jurisdiction':
          return '<label>Jurisdiction (e.g., New Jersey):</label><input type="text" id="jurisdiction">';
        case 'tone':
          return `<label>Tone:</label><select id="tone">
                    <option value="formal">Formal Legal</option><option value="plain">Plain Language</option>
                  </select>`;
        case 'scope':
          return `<label>Applies to:</label><select id="scope">
                    <option value="all">All staff, contractors, interns & partners</option>
                    <option value="employees">Employees only</option>
                  </select>`;
        case 'includeDefinitions':
          return `<label>Include definitions & appendix?</label>
                    <select id="includeDefinitions"><option value="yes">Yes</option><option value="no">No</option></select>`;
        case 'personalData':
          return `<label><input type="checkbox" id="personalData"> Handle personal data</label>`;
        case 'tradeSecrets':
          return `<label><input type="checkbox" id="tradeSecrets"> Handle trade secrets</label>`;
        case 'financialData':
          return `<label><input type="checkbox" id="financialData"> Handle financial data</label>`;
        case 'anonymize':
          return `<label><input type="checkbox" id="anonymize"> Require anonymization/de-identification</label>`;
        case 'encryption':
          return `<label>Require encryption & secure environments?</label>
                    <select id="encryption"><option>Yes</option><option>No</option></select>`;
        case 'prohibitedUses':
          return `<label>Prohibited use cases:</label>
                    <select id="prohibitedUses" multiple>
                      <option>Uploading confidential data</option>
                      <option>Automating hiring decisions</option>
                      <option>Providing legal advice</option>
                      <option>Medical or health advice</option>
                      <option>Financial credit decisions</option>
                      <option>Violating local or international law</option>
                    </select>
                    <label>Other (free text):</label><textarea id="customProhibited"></textarea>`;
        case 'approvedTools':
          return `<label>Maintain approved-tools list?</label>
                    <select id="approvedTools"><option>Yes</option><option>No</option></select>`;
        case 'requireApproval':
          return `<label>Require ethics/security reviews?</label>
                    <select id="requireApproval"><option>Yes</option><option>No</option></select>`;
        case 'ipOwnership':
          return `<label>Outputs owned by company?</label>
                    <select id="ipOwnership"><option>Yes</option><option>No</option></select>`;
        case 'protectTradeSecrets':
          return `<label>Emphasize trade-secret protection?</label>
                    <select id="protectTradeSecrets"><option>Yes</option><option>No</option></select>`;
        case 'biasReview':
          return `<label>Require bias/fairness audits?</label>
                    <select id="biasReview"><option>Yes</option><option>No</option></select>`;
        case 'laws':
          return `<label>Applicable laws:</label>
                    <select id="laws" multiple>
                      <option>GDPR</option><option>CCPA</option><option>HIPAA</option>
                      <option>Quebec Law 25</option><option>PIPEDA</option>
                    </select>
                    <label>Other (free text):</label><textarea id="customLaws"></textarea>`;
        case 'codeReference':
          return `<label>Reference code of conduct?</label>
                    <select id="codeReference"><option>Yes</option><option>No</option></select>`;
        case 'publicDisclosure':
          return `<label>Share policy publicly?</label>
                    <select id="publicDisclosure"><option>Yes</option><option>No</option></select>`;
        case 'explainability':
          return `<label>Require explainability?</label>
                    <select id="explainability"><option>Yes</option><option>No</option></select>`;
        case 'training':
          return `<label>Mandatory training?</label>
                    <select id="training"><option>Yes</option><option>No</option></select>`;
        case 'acknowledgment':
          return `<label>Require acknowledgment?</label>
                    <select id="acknowledgment"><option>Yes</option><option>No</option></select>`;
        case 'vendorOversight':
          return `<label>Vendor compliance requirements?</label>
                    <select id="vendorOversight"><option>Yes</option><option>No</option></select>`;
        case 'riskAssessment':
          return `<label>Mandatory risk assessments?</label>
                    <select id="riskAssessment"><option>Yes</option><option>No</option></select>`;
        case 'incidentProcess':
          return `<label>Incident reporting process?</label>
                    <select id="incidentProcess"><option>Yes</option><option>No</option></select>`;
        case 'enforcement':
          return `<label>Specify consequences?</label>
                    <select id="enforcement"><option>Yes</option><option>No</option></select>`;
        case 'publicComm':
          return `<label>Public communications?</label>
                    <select id="publicComm"><option>Yes</option><option>No</option></select>`;
        case 'reviewFrequency':
          return `<label>Review frequency:</label>
                    <select id="reviewFrequency"><option>Annually</option><option>Semi-annually</option><option>As needed</option></select>`;
        case 'responsibleTeam':
          return `<label>Responsible review team:</label><input type="text" id="responsibleTeam">`;
        case 'signOff':
          return `<label>Require sign-off?</label>
                    <select id="signOff"><option>Yes</option><option>No</option></select>`;
        default:
          return '';
      }
    }

    function saveStepData() {
      steps[currentStep].fields.forEach(f => {
        const el = document.getElementById(f);
        if (!el) return;
        if (el.type === 'checkbox') formData[f] = el.checked;
        else if (el.multiple) formData[f] = [...el.selectedOptions].map(o=>o.value);
        else formData[f] = el.value;
      });
    }

    function nextStep() { saveStepData(); currentStep++; renderStep(); }
    function prevStep() { currentStep--; renderStep(); }
    function skipStep() { currentStep++; renderStep(); }

    function showInfo(txt){ modalText.innerHTML = txt; modal.style.display='block'; }
    closeModal.onclick = ()=> modal.style.display='none';
    window.onclick = e=> { if(e.target===modal) modal.style.display='none'; };

    function renderStep() {
      if (currentStep >= steps.length) return renderFinal();
      const s = steps[currentStep];
      let html = `<h2>${s.title} <span class="info-icon" onclick="showInfo('${s.info}')">ℹ️</span></h2>`;
      s.fields.forEach(f => html += getFieldHTML(f));
      html += `<button onclick="prevStep()">Previous</button>
               <button onclick="nextStep()">Next</button>
               <button class="skip-btn" onclick="skipStep()">Skip</button>`;
      wizardDiv.innerHTML = html;
    }
    // Heading helper
    function heading(num, title) {
      return `<h3>${num}. ${title}</h3>`;
    }

    function sectionIntro() {
      const c = formData.companyName, j = formData.jurisdiction;
      return heading(1,'Introduction & Purpose') + `
<p>This policy establishes the principles, rules, and controls that govern the safe, ethical, and compliant use of AI across <strong>${c}</strong>. Our goals are to:</p>
<ul>
  <li>safeguard customer and employee data;</li>
  <li>protect trade secrets and IP;</li>
  <li>prevent bias and discriminatory outcomes;</li>
  <li>uphold all applicable laws and industry standards;</li>
  <li>maintain trust of customers, partners, and the public;</li>
  <li>ensure AI systems are deployed under the laws of ${j}.</li>
</ul><hr>`;
    }

    function sectionScope() {
      const who = formData.scope==='employees'
        ? 'All employees'
        : 'Employees, contractors, interns & partners';
      return heading(2,'Scope') + `
<ul>
  <li><strong>Who</strong> ${who} with access to company systems or data.</li>
  <li><strong>What</strong> Covers: internally built models, third-party services, generative or decisioning systems.</li>
  <li><strong>Where/When</strong> All work contexts—on-premises, remote, mobile—on any device.</li>
</ul><hr>`;
    }

    function sectionDefinitions() {
      if (formData.includeDefinitions!=='yes') return '';
      return heading(3,'Definitions') + `
<table>
  <tr><th>Term</th><th>Definition</th></tr>
  <tr><td><strong>AI</strong></td><td>Systems that perform tasks requiring human intelligence.</td></tr>
  <tr><td><strong>ML</strong></td><td>Algorithms that learn patterns from data.</td></tr>
  <tr><td><strong>LLM</strong></td><td>Large Language Models like GPT-4.</td></tr>
  <tr><td><strong>Personal Data</strong></td><td>Info identifying a person (GDPR/CCPA/Law 25).</td></tr>
  <tr><td><strong>Trade Secret</strong></td><td>Non-public business info with competitive value.</td></tr>
  <tr><td><strong>High-Risk AI</strong></td><td>AI that can significantly affect individuals.</td></tr>
</table><hr>`;
    }

    function sectionPrivacy() {
      const bullets = [];
      if (formData.personalData) bullets.push('Never share personal data with public AI systems without explicit approval.');
      if (formData.tradeSecrets) bullets.push('Secure trade secrets; do not disclose to unauthorized systems.');
      if (formData.financialData) bullets.push('Handle financial data under strict compliance protocols.');
      if (formData.anonymize) bullets.push('De-identify/anonymize data before AI training or testing.');
      if (formData.encryption) bullets.push('Use encryption & secure environments for all AI data.');
      if (!bullets.length) return '';
      return heading(4,'Data Privacy & Security') + `
<ol>
  ${bullets.map(txt=>`<li>${txt}</li>`).join('')}
</ol><hr>`;
    }

    function sectionProhibited() {
      const sel = formData.prohibitedUses||[];
      if (!sel.length && !formData.customProhibited) return '';
      return heading(5,'Prohibited Use Cases') + `
<ul>
  ${sel.map(u=>`<li>${u}</li>`).join('')}
  ${formData.customProhibited?`<li>${formData.customProhibited}</li>`:''}
</ul><hr>`;
    }

    function sectionGovernance() {
      const inv = formData.approvedTools==='Yes';
      const ap = formData.requireApproval==='Yes';
      return heading(6,'Approved Use & Governance') + `
<ol>
  <li><strong>Approved Tools</strong> ${inv?'Only official tools may be used.':'No inventory maintained.'}</li>
  <li><strong>Onboarding</strong> ${ap?'New tools require risk, security & ethics review + sign-off.':'No formal onboarding.'}</li>
</ol><hr>`;
    }

    function sectionIP() {
      const ip = formData.ipOwnership==='Yes';
      const ts = formData.protectTradeSecrets==='Yes';
      return heading(7,'Intellectual Property & Trade Secrets') + `
<ul>
  <li>${ip?'AI outputs are company-owned IP.':'AI outputs ownership not guaranteed.'}</li>
  <li>${ts?'Employees must safeguard trade secrets per agreements.':'Standard confidentiality applies.'}</li>
</ul><hr>`;
    }

    function sectionBias() {
      return heading(8,'Fairness & Bias Mitigation') + `
<ul>
  <li>Pre-deployment Bias & Fairness Reviews for high-risk AI.</li>
  <li>Ongoing audits every six months or post-retraining.</li>
  <li>Remediate or rollback discriminatory models before redeployment.</li>
</ul><hr>`;
    }

    function sectionCompliance() {
      const laws = formData.laws||[];
      return heading(9,'Compliance & Legal') + `
<ul>
  ${(laws.length?laws.map(l=>`<li>Comply with ${l}.</li>`).join('') : '<li>Comply with all applicable privacy laws.</li>')}
  ${formData.customLaws?`<li>${formData.customLaws}</li>`:''}
  <li>Follow export controls (e.g., U.S. EAR/ITAR) for cross-border AI/data.</li>
  <li>Supplements Info Security, Code of Conduct & IP policies.</li>
</ul><hr>`;
    }

    function sectionTransparency() {
      return heading(10,'Transparency & Explainability') + `
<ul>
  <li>Disclose in plain language where AI materially affects people.</li>
  <li>Provide “why” explanations on request.</li>
</ul><hr>`;
    }

    function sectionTraining() {
      return heading(11,'Training & Awareness') + `
<ul>
  <li>Mandatory onboarding on AI ethics, data handling & policy.</li>
  <li>Annual refresher in LMS for all covered roles.</li>
</ul><hr>`;
    }

    function sectionVendor() {
      return heading(12,'Vendor & Third-party Oversight') + `
<p>${formData.vendorOversight==='Yes'
    ? 'Vendors must meet our security, privacy & ethics standards before engagement.'
    : 'No vendor requirements defined.'}</p><hr>`;
    }

    function sectionRisk() {
      return heading(13,'Risk Assessment') + `
<p>${formData.riskAssessment==='Yes'
    ? 'Mandatory AI risk assessments before deployment for legal, ethical & security impacts.'
    : 'No formal risk assessments required.'}</p><hr>`;
    }

    function sectionIncidents() {
      return heading(14,'Incident Reporting & Response') + `
<ul>
  <li>Report to ai-incidents@[company].com or Security Hotline immediately.</li>
  <li>Triage by Security & Governance lead.</li>
  <li>Remediation plan within 10 business days.</li>
  <li>Notify regulators/customers per obligations.</li>
</ul><hr>`;
    }

    function sectionEnforcement() {
      return heading(15,'Enforcement') + `
<p>${formData.enforcement==='Yes'
    ? 'Violations may lead to disciplinary action, up to termination and legal action.'
    : 'No enforcement details specified.'}</p><hr>`;
    }

    function sectionCommunication() {
      return heading(16,'Public Communication') + `
<p>${formData.publicComm==='Yes'
    ? 'Communications team issues public statements aligned with this policy.'
    : 'No public statements defined.'}</p><hr>`;
    }

    function sectionReview() {
      return heading(17,'Review & Updates') + `
<ul>
  <li>Frequency: ${formData.reviewFrequency}.</li>
  <li>Ownership: ${formData.responsibleTeam||'Governance/Compliance team'}.</li>
</ul><hr>`;
    }

    function sectionSignoff() {
      return heading(18,'Sign-off & Acknowledgment') + `
<p>All personnel must acknowledge via HR portal within 14 days of publication & each revision.</p><hr>`;
    }

    function sectionAppendix() {
      if (formData.includeDefinitions!=='yes') return '';
      return `<h3>Appendix A – Allowed vs. Disallowed AI Use Cases</h3>
<table>
  <tr><th>Allowed (w/ approval)</th><th>Disallowed</th></tr>
  <tr><td>Drafting marketing copy with approved LLMs on non-confidential data</td><td>Uploading unreleased financials to public LLMs</td></tr>
  <tr><td>Code completion for open-source projects using Copilot Enterprise</td><td>Training unvetted models on personal support transcripts</td></tr>
  <tr><td>Sentiment analysis on anonymized feedback</td><td>Auto-rejecting candidates w/o human review</td></tr>
</table>
<h3>Appendix B – Approved AI Tools & Vendors</h3>
<ul>
  <li>Copilot Enterprise (GitHub) – vX.Y</li>
  <li>OpenAI ChatGPT Enterprise – GPT-4o-2025-06</li>
  <li>Internal “Aurora” Model – v3.2</li>
</ul>
<h3>Appendix C – Quick Do’s & Don’ts</h3>
<p><strong>Do:</strong></p>
<ul>
  <li>Remove identifiers before sharing data.</li>
  <li>Use only tools on the Approved list.</li>
  <li>Document prompts & data sources for audits.</li>
</ul>
<p><strong>Don’t:</strong></p>
<ul>
  <li>Paste customer data into public chats.</li>
  <li>Use AI for sensitive decisions w/o human oversight.</li>
  <li>Deploy models before completing risk assessments.</li>
</ul>`;
    }

    function renderFinal() {
      let out = '';
      out += sectionIntro();
      out += sectionScope();
      out += sectionDefinitions();
      out += sectionPrivacy();
      out += sectionProhibited();
      out += sectionGovernance();
      out += sectionIP();
      out += sectionBias();
      out += sectionCompliance();
      out += sectionTransparency();
      out += sectionTraining();
      out += sectionVendor();
      out += sectionRisk();
      out += sectionIncidents();
      out += sectionEnforcement();
      out += sectionCommunication();
      out += sectionReview();
      out += sectionSignoff();
      out += sectionAppendix();
      out += `<p><em>Approved by: ______________________  Date: ___________  Version: 1.0</em></p>
              <p><em>Generated with AI Policy Builder. Review with legal & compliance teams. No liability assumed.</em></p>`;

      wizardDiv.innerHTML = `<h2>Preview & Copy</h2>
        <div class="policy-output">${out}</div>
        <button onclick="copyRichText()">Copy to Clipboard</button>`;
    }

    function copyRichText() {
      const div = document.querySelector('.policy-output');
      const range = document.createRange();
      range.selectNode(div);
      window.getSelection().removeAllRanges();
      window.getSelection().addRange(range);
      document.execCommand('copy');
      window.getSelection().removeAllRanges();
      alert('Policy copied!');
    }

    // Initialize wizard
    renderStep();
  </script>
</body>
</html>
