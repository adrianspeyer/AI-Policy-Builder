<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <title>AI Policy Builder</title>
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <style>
    body {
      font-family: Arial, sans-serif;
      margin: 0;
      background: #f5f5f5;
      color: #333;
    }
    .container {
      max-width: 900px;
      margin: 40px auto;
      background: white;
      padding: 30px;
      border-radius: 8px;
      box-shadow: 0 0 10px rgba(0,0,0,0.1);
    }
    h1, h2 {
      color: #005b96;
    }
    label {
      display: block;
      margin-top: 10px;
      font-weight: bold;
    }
    input[type="text"], select, textarea {
      width: 100%;
      padding: 8px;
      margin-top: 4px;
      margin-bottom: 12px;
      border: 1px solid #ccc;
      border-radius: 4px;
    }
    textarea {
      height: 80px;
    }
    button {
      margin: 10px 5px 0 0;
      padding: 10px 18px;
      background-color: #005b96;
      color: white;
      border: none;
      border-radius: 4px;
      cursor: pointer;
    }
    button:hover {
      background-color: #003f6d;
    }
    .skip-btn {
      background-color: #999;
    }
    .skip-btn:hover {
      background-color: #777;
    }
    .info-icon {
      cursor: pointer;
      font-size: 1.2em;
      margin-left: 5px;
    }
    .policy-output {
      background: #f9f9f9;
      padding: 20px;
      border: 1px dashed #999;
      border-radius: 6px;
      max-height: 500px;
      overflow-y: auto;
    }
    .modal {
      display: none;
      position: fixed;
      z-index: 1000;
      padding-top: 60px;
      left: 0;
      top: 0;
      width: 100%;
      height: 100%;
      overflow: auto;
      background-color: rgba(0,0,0,0.6);
    }
    .modal-content {
      background-color: #fff;
      margin: auto;
      padding: 20px;
      border: 1px solid #888;
      width: 80%;
      max-width: 500px;
      border-radius: 8px;
      position: relative;
    }
    .close-btn {
      position: absolute;
      right: 15px;
      top: 10px;
      font-size: 20px;
      font-weight: bold;
      cursor: pointer;
    }
    .close-btn:hover {
      color: red;
    }
  </style>
</head>
<body>
  <div class="container">
    <h1>AI Policy Builder</h1>
    <p>Use this wizard to generate a detailed, comprehensive AI policy tailored to your organization.</p>
    <div id="wizard"></div>
  </div>

  <!-- Info Modal -->
  <div id="infoModal" class="modal">
    <div class="modal-content">
      <span id="closeModal" class="close-btn">✖️</span>
      <div id="modalText"></div>
    </div>
  </div>
<script>
  const steps = [
    { id: 'company', title: 'Company Info', info: 'Enter your company name, industry, and tone preference.', fields: ['companyName', 'industry', 'tone'] },
    { id: 'scope', title: 'Scope', info: 'Define who the policy applies to.', fields: ['scope'] },
    { id: 'definitions', title: 'Definitions', info: 'Decide if you want to include definitions.', fields: ['includeDefinitions'] },
    { id: 'privacy', title: 'Data Privacy & Security', info: 'Specify data types and security requirements.', fields: ['personalData', 'tradeSecrets', 'financialData', 'encryption'] },
    { id: 'prohibited', title: 'Prohibited Use Cases', info: 'Select prohibited AI use cases and optionally add your own.', fields: ['prohibitedUses', 'customProhibited'] },
    { id: 'approved', title: 'Approved Use & Governance', info: 'Mention approved tools and governance requirements.', fields: ['approvedTools', 'requireApproval'] },
    { id: 'ip', title: 'Intellectual Property & Trade Secrets', info: 'Indicate IP ownership and protection.', fields: ['ipOwnership', 'protectTradeSecrets'] },
    { id: 'fairness', title: 'Fairness & Bias Mitigation', info: 'State if you require fairness/bias reviews.', fields: ['biasReview'] },
    { id: 'compliance', title: 'Compliance & Legal', info: 'Select applicable laws and optionally add your own.', fields: ['laws', 'customLaws', 'codeReference'] },
    { id: 'transparency', title: 'Transparency & Explainability', info: 'State if employees should explain AI decisions and if practices are shared.', fields: ['publicDisclosure', 'explainability'] },
    { id: 'training', title: 'Training & Awareness', info: 'Indicate training and acknowledgment requirements.', fields: ['training', 'acknowledgment'] },
    { id: 'incidents', title: 'Incident Reporting & Response', info: 'State if you have an incident reporting process.', fields: ['incidentProcess'] },
    { id: 'communication', title: 'Public Communication', info: 'Mention public communication of AI practices.', fields: ['publicComm'] },
    { id: 'review', title: 'Review & Updates', info: 'Specify review frequency and responsible team.', fields: ['reviewFrequency', 'responsibleTeam'] },
    { id: 'signoff', title: 'Sign-off & Acknowledgment', info: 'Indicate if signatures are required.', fields: ['signOff'] }
  ];

  const formData = {};
  let currentStep = 0;

  const wizardDiv = document.getElementById('wizard');
  const modal = document.getElementById('infoModal');
  const modalText = document.getElementById('modalText');
  const closeModal = document.getElementById('closeModal');

  function renderStep() {
    if (currentStep >= steps.length) {
      renderFinal();
      return;
    }
    const step = steps[currentStep];
    let html = `<h2>${step.title} <span class="info-icon" onclick="showInfo('${step.info}')">ℹ️</span></h2>`;

    step.fields.forEach(field => {
      html += getFieldHTML(field);
    });

    html += `<button onclick="prevStep()">Previous</button>
             <button onclick="nextStep()">Next</button>
             <button class="skip-btn" onclick="skipStep()">Skip</button>`;
    wizardDiv.innerHTML = html;
  }

  function getFieldHTML(field) {
    switch (field) {
      case 'companyName':
        return '<label>Company Name:</label><input type="text" id="companyName">';
      case 'industry':
        return `<label>Industry:</label><select id="industry">
          <option value="">-- Select Industry --</option>
          <option value="Healthcare / Medical">Healthcare / Medical</option>
          <option value="Financial Services">Financial Services</option>
          <option value="Insurance">Insurance</option>
          <option value="Legal / Compliance">Legal / Compliance</option>
          <option value="Education">Education</option>
          <option value="Technology">Technology</option>
          <option value="Manufacturing">Manufacturing</option>
          <option value="Retail / E-commerce">Retail / E-commerce</option>
          <option value="Other">Other</option>
        </select>`;
      case 'tone':
        return `<label>Preferred Tone:</label><select id="tone">
          <option value="formal">Formal Legal</option>
          <option value="plain">Plain Language</option>
        </select>`;
      case 'scope':
        return `<label>Who does this apply to?</label>
          <select id="scope">
            <option value="all">All employees, contractors, interns, partners</option>
            <option value="employees">Employees only</option>
          </select>`;
      case 'includeDefinitions':
        return `<label>Include definitions?</label>
          <select id="includeDefinitions">
            <option value="yes">Yes</option>
            <option value="no">No</option>
          </select>`;
      case 'personalData':
        return `<label><input type="checkbox" id="personalData"> Handle customer personal data</label>`;
      case 'tradeSecrets':
        return `<label><input type="checkbox" id="tradeSecrets"> Handle trade secrets/IP</label>`;
      case 'financialData':
        return `<label><input type="checkbox" id="financialData"> Handle financial data</label>`;
      case 'encryption':
        return `<label>Require encryption?</label>
          <select id="encryption"><option value="yes">Yes</option><option value="no">No</option></select>`;
      case 'prohibitedUses':
        return `<label>Prohibited use cases (select all that apply):</label>
          <select id="prohibitedUses" multiple>
            <option value="Uploading confidential data">Uploading confidential data</option>
            <option value="Automating hiring decisions">Automating hiring decisions without human oversight</option>
            <option value="Providing legal advice">Providing legal advice or decisions</option>
            <option value="Medical or health advice">Medical or health diagnostics or advice</option>
            <option value="Financial credit decisions">Automated financial credit or loan decisions</option>
            <option value="Violating local or international law">Violating local or international law</option>
          </select>
          <label>Other prohibited uses (free text):</label>
          <textarea id="customProhibited" placeholder="Add any additional prohibited uses..."></textarea>`;
      case 'approvedTools':
        return `<label>Have approved AI tools list?</label>
          <select id="approvedTools"><option value="yes">Yes</option><option value="no">No</option></select>`;
      case 'requireApproval':
        return `<label>Require approval before using new AI tools?</label>
          <select id="requireApproval"><option value="yes">Yes</option><option value="no">No</option></select>`;
      case 'ipOwnership':
        return `<label>AI outputs owned by the company?</label>
          <select id="ipOwnership"><option value="yes">Yes</option><option value="no">No</option></select>`;
      case 'protectTradeSecrets':
        return `<label>Emphasize trade secret protection?</label>
          <select id="protectTradeSecrets"><option value="yes">Yes</option><option value="no">No</option></select>`;
      case 'biasReview':
        return `<label>Require fairness/bias reviews?</label>
          <select id="biasReview"><option value="yes">Yes</option><option value="no">No</option></select>`;
      case 'laws':
        return `<label>Applicable laws (select all that apply):</label>
          <select id="laws" multiple>
            <option value="GDPR">GDPR (EU)</option>
            <option value="CCPA">CCPA (California)</option>
            <option value="HIPAA">HIPAA (US)</option>
            <option value="Quebec Law 25">Quebec Law 25</option>
            <option value="PIPEDA">PIPEDA (Canada)</option>
          </select>
          <label>Other laws (free text):</label>
          <textarea id="customLaws" placeholder="Add any other applicable laws..."></textarea>`;
      case 'codeReference':
        return `<label>Reference code of conduct?</label>
          <select id="codeReference"><option value="yes">Yes</option><option value="no">No</option></select>`;
      case 'publicDisclosure':
        return `<label>Share policy publicly?</label>
          <select id="publicDisclosure"><option value="yes">Yes</option><option value="no">No</option></select>`;
      case 'explainability':
        return `<label>Require employees to explain AI decisions if asked?</label>
          <select id="explainability"><option value="yes">Yes</option><option value="no">No</option></select>`;
      case 'training':
        return `<label>Require employee training?</label>
          <select id="training"><option value="yes">Yes</option><option value="no">No</option></select>`;
      case 'acknowledgment':
        return `<label>Require acknowledgment of this policy?</label>
          <select id="acknowledgment"><option value="yes">Yes</option><option value="no">No</option></select>`;
      case 'incidentProcess':
        return `<label>Have incident reporting process?</label>
          <select id="incidentProcess"><option value="yes">Yes</option><option value="no">No</option></select>`;
      case 'publicComm':
        return `<label>Publicly disclose AI practices?</label>
          <select id="publicComm"><option value="yes">Yes</option><option value="no">No</option></select>`;
      case 'reviewFrequency':
        return `<label>Policy review frequency:</label>
          <select id="reviewFrequency">
            <option value="annually">Annually</option>
            <option value="semi-annually">Semi-annually</option>
            <option value="as-needed">As needed</option>
          </select>`;
      case 'responsibleTeam':
        return `<label>Responsible team for reviews (free text):</label><input type="text" id="responsibleTeam">`;
      case 'signOff':
        return `<label>Require sign-off from employees?</label>
          <select id="signOff"><option value="yes">Yes</option><option value="no">No</option></select>`;
      default:
        return '';
    }
  }

  function saveStepData() {
    steps[currentStep].fields.forEach(field => {
      const el = document.getElementById(field);
      if (!el) return;
      if (el.type === 'checkbox') {
        formData[field] = el.checked;
      } else if (el.multiple) {
        formData[field] = Array.from(el.selectedOptions).map(option => option.value);
      } else {
        formData[field] = el.value;
      }
    });
  }

  function nextStep() {
    saveStepData();
    currentStep++;
    renderStep();
  }

  function prevStep() {
    currentStep--;
    renderStep();
  }

  function skipStep() {
    currentStep++;
    renderStep();
  }

  function showInfo(text) {
    modalText.innerHTML = text;
    modal.style.display = 'block';
  }

  closeModal.onclick = function() {
    modal.style.display = 'none';
  };
  window.onclick = function(event) {
    if (event.target == modal) {
      modal.style.display = 'none';
    }
  };
  function renderFinal() {
    const formal = formData.tone === 'formal';
    let policy = `<h2>${formData.companyName || '[Company Name]'} AI Policy</h2>`;
    policy += `<p><strong>Industry:</strong> ${formData.industry || 'General'}</p>`;

    // Introduction
    policy += `<h3>Introduction & Purpose</h3>`;
    policy += formal
      ? `<p>This policy establishes comprehensive guidelines for the ethical, secure, and compliant use of AI technologies within the organization. It demonstrates our commitment to protecting customer data, trade secrets, and maintaining public trust.</p>`
      : `<p>This policy explains how we use AI responsibly, keep your data safe, and maintain trust with our customers and employees.</p>`;

    // Scope
    policy += `<h3>Scope</h3>`;
    policy += formData.scope === 'employees'
      ? `<p>This policy applies to employees only.</p>`
      : `<p>This policy applies to all employees, contractors, interns, and partners who interact with or use AI tools.</p>`;

    // Definitions
    if (formData.includeDefinitions === 'yes') {
      policy += `<h3>Definitions</h3>`;
      policy += `<p>AI, machine learning, large language models (LLMs), personal data, and trade secrets are defined internally to ensure clarity and understanding throughout this policy.</p>`;
    }

    // Data Privacy & Security
    if (formData.personalData || formData.tradeSecrets || formData.financialData) {
      policy += `<h3>Data Privacy & Security</h3><p>We prioritize data privacy and maintain strict security standards to protect all sensitive information handled by AI systems.</p><ul>`;
      if (formData.personalData) policy += `<li>Customer personal data is handled with care and never shared with public AI systems without explicit authorization.</li>`;
      if (formData.tradeSecrets) policy += `<li>Trade secrets and confidential information are protected through strong access controls and usage restrictions.</li>`;
      if (formData.financialData) policy += `<li>Financial data is safeguarded to meet all applicable compliance requirements.</li>`;
      if (formData.encryption === 'yes') policy += `<li>Encryption and secure access are enforced for all AI-related data and workflows.</li>`;
      policy += `</ul>`;
    }

    // Prohibited Use Cases
    policy += `<h3>Prohibited Use Cases</h3><ul>`;
    if (formData.prohibitedUses && formData.prohibitedUses.length > 0) {
      formData.prohibitedUses.forEach(useCase => {
        policy += `<li>${useCase}</li>`;
      });
    }
    if (formData.customProhibited) {
      policy += `<li>${formData.customProhibited}</li>`;
    }
    policy += `</ul>`;

    // Approved Use & Governance
    policy += `<h3>Approved Use & Governance</h3>`;
    policy += formData.approvedTools === 'yes'
      ? `<p>Only approved AI tools listed in our official inventory may be used within the organization.</p>`
      : `<p>No official list of approved AI tools is currently maintained.</p>`;
    policy += formData.requireApproval === 'yes'
      ? `<p>All new AI tools must receive formal approval before deployment or usage.</p>`
      : `<p>Approval for new AI tools is not currently required.</p>`;

    // IP & Trade Secrets
    policy += `<h3>Intellectual Property & Trade Secrets</h3>`;
    policy += formData.ipOwnership === 'yes'
      ? `<p>All AI outputs generated using company data are considered company-owned intellectual property.</p>`
      : `<p>AI outputs are not explicitly owned by the company unless otherwise specified.</p>`;
    policy += formData.protectTradeSecrets === 'yes'
      ? `<p>Employees are reminded of the importance of protecting trade secrets and following all confidentiality agreements.</p>`
      : `<p>No additional emphasis on trade secret protection beyond existing confidentiality obligations.</p>`;

    // Fairness & Bias
    policy += `<h3>Fairness & Bias Mitigation</h3>`;
    policy += formData.biasReview === 'yes'
      ? `<p>Bias and fairness assessments are conducted regularly for AI systems that impact individuals or decision-making processes.</p>`
      : `<p>No formal bias or fairness assessments are required at this time.</p>`;

    // Compliance & Legal
    policy += `<h3>Compliance & Legal</h3><ul>`;
    if (formData.laws && formData.laws.length > 0) {
      formData.laws.forEach(law => {
        policy += `<li>Compliance with ${law}</li>`;
      });
    }
    if (formData.customLaws) {
      policy += `<li>${formData.customLaws}</li>`;
    }
    policy += `</ul>`;
    policy += formData.codeReference === 'yes'
      ? `<p>This policy aligns with the organization's internal code of conduct and privacy policies.</p>`
      : `<p>No explicit reference to internal codes or privacy policies is included.</p>`;

    // Transparency
    policy += `<h3>Transparency & Explainability</h3>`;
    policy += formData.publicDisclosure === 'yes'
      ? `<p>We publicly share information about how we use AI systems to maintain trust and accountability.</p>`
      : `<p>We do not currently share specific details about AI usage publicly.</p>`;
    policy += formData.explainability === 'yes'
      ? `<p>Employees are expected to provide clear explanations of AI decision-making processes if asked by stakeholders.</p>`
      : `<p>No requirement for employees to provide AI explanations to stakeholders.</p>`;

    // Training & Awareness
    policy += `<h3>Training & Awareness</h3>`;
    policy += formData.training === 'yes'
      ? `<p>Mandatory AI ethics and safety training is required for all relevant employees.</p>`
      : `<p>AI-related training is optional for employees.</p>`;
    policy += formData.acknowledgment === 'yes'
      ? `<p>Employees must formally acknowledge that they have read and understand this policy.</p>`
      : `<p>No formal acknowledgment process is currently in place.</p>`;

    // Incident Reporting
    policy += `<h3>Incident Reporting & Response</h3>`;
    policy += formData.incidentProcess === 'yes'
      ? `<p>A defined process for reporting and responding to AI-related incidents is in place and must be followed.</p>`
      : `<p>No formal incident reporting process exists at this time.</p>`;

    // Public Communication
    policy += `<h3>Public Communication</h3>`;
    policy += formData.publicComm === 'yes'
      ? `<p>We share updates and details about our AI practices through official public channels and reports.</p>`
      : `<p>AI practices are not currently shared publicly through official channels.</p>`;

    // Review & Updates
    policy += `<h3>Review & Updates</h3>`;
    policy += `<p>This policy is reviewed ${formData.reviewFrequency || 'annually'} to ensure continued compliance and relevance.</p>`;
    policy += formData.responsibleTeam
      ? `<p>The team responsible for this review is: ${formData.responsibleTeam}.</p>`
      : `<p>A designated compliance or governance team will be responsible for policy reviews.</p>`;

    // Sign-off
    policy += `<h3>Sign-off & Acknowledgment</h3>`;
    policy += formData.signOff === 'yes'
      ? `<p>All applicable employees and stakeholders must sign or formally acknowledge this policy.</p>`
      : `<p>Formal sign-off is not required at this time.</p>`;

    policy += `<hr><p><em>Generated with AI Policy Builder. Please review with your legal and compliance teams. No liability assumed.</em></p>`;

    wizardDiv.innerHTML = `<h2>Preview & Copy</h2>
      <div class="policy-output">${policy}</div>
      <button onclick="copyRichText()">Copy to Clipboard</button>`;
  }

  function copyRichText() {
    const div = document.querySelector('.policy-output');
    const range = document.createRange();
    range.selectNode(div);
    window.getSelection().removeAllRanges();
    window.getSelection().addRange(range);
    try {
      document.execCommand('copy');
      alert("Formatted policy copied to clipboard!");
    } catch (err) {
      alert("Failed to copy. Please select and copy manually.");
    }
    window.getSelection().removeAllRanges();
  }

  renderStep();
</script>
</body>
</html>
