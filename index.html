<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <title>AI Policy Builder</title>
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <style>
    body {
      font-family: Arial, sans-serif;
      margin: 0;
      background: #f5f5f5;
      color: #333;
    }
    .container {
      max-width: 900px;
      margin: 40px auto;
      background: white;
      padding: 30px;
      border-radius: 8px;
      box-shadow: 0 0 10px rgba(0,0,0,0.1);
    }
    h1, h2, h3 {
      color: #005b96;
    }
    label {
      display: block;
      margin-top: 10px;
      font-weight: bold;
    }
    input[type="text"], select, textarea {
      width: 100%;
      padding: 8px;
      margin-top: 4px;
      margin-bottom: 12px;
      border: 1px solid #ccc;
      border-radius: 4px;
    }
    textarea {
      height: 80px;
    }
    button {
      margin: 10px 5px 0 0;
      padding: 10px 18px;
      background-color: #005b96;
      color: white;
      border: none;
      border-radius: 4px;
      cursor: pointer;
    }
    button:hover {
      background-color: #003f6d;
    }
    .skip-btn {
      background-color: #999;
    }
    .skip-btn:hover {
      background-color: #777;
    }
    .info-icon {
      cursor: pointer;
      font-size: 1.2em;
      margin-left: 5px;
    }
    .policy-output {
      background: #f9f9f9;
      padding: 20px;
      border: 1px dashed #999;
      border-radius: 6px;
      max-height: 500px;
      overflow-y: auto;
    }
    .modal {
      display: none;
      position: fixed;
      z-index: 1000;
      padding-top: 60px;
      left: 0;
      top: 0;
      width: 100%;
      height: 100%;
      overflow: auto;
      background-color: rgba(0,0,0,0.6);
    }
    .modal-content {
      background-color: #fff;
      margin: auto;
      padding: 20px;
      border: 1px solid #888;
      width: 80%;
      max-width: 500px;
      border-radius: 8px;
      position: relative;
    }
    .close-btn {
      position: absolute;
      right: 15px;
      top: 10px;
      font-size: 20px;
      font-weight: bold;
      cursor: pointer;
    }
    .close-btn:hover {
      color: red;
    }
  </style>
</head>
<body>
  <div class="container">
    <h1>AI Policy Builder</h1>
    <p>Use this wizard to generate a detailed, robust AI policy that is ready for review or immediate internal use.</p>
    <div id="wizard"></div>
  </div>

  <!-- Info Modal -->
  <div id="infoModal" class="modal">
    <div class="modal-content">
      <span id="closeModal" class="close-btn">✖️</span>
      <div id="modalText"></div>
    </div>
  </div>
<script>
  const steps = [
    { id: 'company', title: 'Company Info', info: 'Enter your company name, industry, jurisdiction, and tone preference.', fields: ['companyName', 'industry', 'jurisdiction', 'tone'] },
    { id: 'scope', title: 'Scope', info: 'Define who the policy applies to.', fields: ['scope'] },
    { id: 'definitions', title: 'Definitions', info: 'Decide if you want to include expanded definitions and appendix.', fields: ['includeDefinitions'] },
    { id: 'privacy', title: 'Data Privacy & Security', info: 'Specify data types and security requirements.', fields: ['personalData', 'tradeSecrets', 'financialData', 'encryption'] },
    { id: 'prohibited', title: 'Prohibited Use Cases', info: 'Select prohibited AI use cases and optionally add your own.', fields: ['prohibitedUses', 'customProhibited'] },
    { id: 'approved', title: 'Approved Use & Governance', info: 'Mention approved tools and governance requirements.', fields: ['approvedTools', 'requireApproval'] },
    { id: 'ip', title: 'Intellectual Property & Trade Secrets', info: 'Indicate IP ownership and protection.', fields: ['ipOwnership', 'protectTradeSecrets'] },
    { id: 'fairness', title: 'Fairness & Bias Mitigation', info: 'State if you require fairness/bias reviews.', fields: ['biasReview'] },
    { id: 'compliance', title: 'Compliance & Legal', info: 'Select applicable laws and optionally add your own.', fields: ['laws', 'customLaws', 'codeReference'] },
    { id: 'transparency', title: 'Transparency & Explainability', info: 'State if employees should explain AI decisions and if practices are shared.', fields: ['publicDisclosure', 'explainability'] },
    { id: 'training', title: 'Training & Awareness', info: 'Indicate training and acknowledgment requirements.', fields: ['training', 'acknowledgment'] },
    { id: 'vendor', title: 'Vendor & Third-party Oversight', info: 'Set requirements for third-party AI vendors.', fields: ['vendorOversight'] },
    { id: 'risk', title: 'Risk Assessment', info: 'Specify if risk assessments are mandatory.', fields: ['riskAssessment'] },
    { id: 'incidents', title: 'Incident Reporting & Response', info: 'State if you have an incident reporting process.', fields: ['incidentProcess'] },
    { id: 'enforcement', title: 'Enforcement', info: 'Specify consequences for policy violations.', fields: ['enforcement'] },
    { id: 'communication', title: 'Public Communication', info: 'Mention public communication of AI practices.', fields: ['publicComm'] },
    { id: 'review', title: 'Review & Updates', info: 'Specify review frequency and responsible team.', fields: ['reviewFrequency', 'responsibleTeam'] },
    { id: 'signoff', title: 'Sign-off & Acknowledgment', info: 'Indicate if signatures are required.', fields: ['signOff'] }
  ];

  const formData = {};
  let currentStep = 0;

  const wizardDiv = document.getElementById('wizard');
  const modal = document.getElementById('infoModal');
  const modalText = document.getElementById('modalText');
  const closeModal = document.getElementById('closeModal');

  function renderStep() {
    if (currentStep >= steps.length) {
      renderFinal();
      return;
    }
    const step = steps[currentStep];
    let html = `<h2>${step.title} <span class="info-icon" onclick="showInfo('${step.info}')">ℹ️</span></h2>`;

    step.fields.forEach(field => {
      html += getFieldHTML(field);
    });

    html += `<button onclick="prevStep()">Previous</button>
             <button onclick="nextStep()">Next</button>
             <button class="skip-btn" onclick="skipStep()">Skip</button>`;
    wizardDiv.innerHTML = html;
  }
  function getFieldHTML(field) {
    switch (field) {
      case 'companyName':
        return '<label>Company Name:</label><input type="text" id="companyName">';
      case 'industry':
        return `<label>Industry:</label><select id="industry">
          <option value="">-- Select Industry --</option>
          <option value="Healthcare / Medical">Healthcare / Medical</option>
          <option value="Financial Services">Financial Services</option>
          <option value="Insurance">Insurance</option>
          <option value="Legal / Compliance">Legal / Compliance</option>
          <option value="Education">Education</option>
          <option value="Technology">Technology</option>
          <option value="Manufacturing">Manufacturing</option>
          <option value="Retail / E-commerce">Retail / E-commerce</option>
          <option value="Other">Other</option>
        </select>`;
      case 'jurisdiction':
        return '<label>Governing Jurisdiction (e.g., New Jersey):</label><input type="text" id="jurisdiction">';
      case 'tone':
        return `<label>Preferred Tone:</label><select id="tone">
          <option value="formal">Formal Legal</option>
          <option value="plain">Plain Language</option>
        </select>`;
      case 'scope':
        return `<label>Who does this policy apply to?</label>
          <select id="scope">
            <option value="all">All employees, contractors, interns, partners</option>
            <option value="employees">Employees only</option>
          </select>`;
      case 'includeDefinitions':
        return `<label>Include expanded definitions and appendix?</label>
          <select id="includeDefinitions">
            <option value="yes">Yes</option>
            <option value="no">No</option>
          </select>`;
      case 'personalData':
        return `<label><input type="checkbox" id="personalData"> Handle customer personal data</label>`;
      case 'tradeSecrets':
        return `<label><input type="checkbox" id="tradeSecrets"> Handle trade secrets/IP</label>`;
      case 'financialData':
        return `<label><input type="checkbox" id="financialData"> Handle financial data</label>`;
      case 'encryption':
        return `<label>Require encryption?</label>
          <select id="encryption"><option value="yes">Yes</option><option value="no">No</option></select>`;
      case 'prohibitedUses':
        return `<label>Prohibited use cases (select all that apply):</label>
          <select id="prohibitedUses" multiple>
            <option value="Uploading confidential data">Uploading confidential data</option>
            <option value="Automating hiring decisions">Automating hiring decisions without human oversight</option>
            <option value="Providing legal advice">Providing legal advice or decisions</option>
            <option value="Medical or health advice">Medical or health diagnostics or advice</option>
            <option value="Financial credit decisions">Automated financial credit or loan decisions</option>
            <option value="Violating local or international law">Violating local or international law</option>
          </select>
          <label>Other prohibited uses (free text):</label>
          <textarea id="customProhibited" placeholder="Add any additional prohibited uses..."></textarea>`;
      case 'approvedTools':
        return `<label>Have an approved AI tools list?</label>
          <select id="approvedTools"><option value="yes">Yes</option><option value="no">No</option></select>`;
      case 'requireApproval':
        return `<label>Require approval before using new AI tools?</label>
          <select id="requireApproval"><option value="yes">Yes</option><option value="no">No</option></select>`;
      case 'ipOwnership':
        return `<label>AI outputs owned by the company?</label>
          <select id="ipOwnership"><option value="yes">Yes</option><option value="no">No</option></select>`;
      case 'protectTradeSecrets':
        return `<label>Emphasize trade secret protection?</label>
          <select id="protectTradeSecrets"><option value="yes">Yes</option><option value="no">No</option></select>`;
      case 'biasReview':
        return `<label>Require fairness/bias reviews?</label>
          <select id="biasReview"><option value="yes">Yes</option><option value="no">No</option></select>`;
      case 'laws':
        return `<label>Applicable laws (select all that apply):</label>
          <select id="laws" multiple>
            <option value="GDPR">GDPR (EU)</option>
            <option value="CCPA">CCPA (California)</option>
            <option value="HIPAA">HIPAA (US)</option>
            <option value="Quebec Law 25">Quebec Law 25</option>
            <option value="PIPEDA">PIPEDA (Canada)</option>
          </select>
          <label>Other laws (free text):</label>
          <textarea id="customLaws" placeholder="Add any other applicable laws..."></textarea>`;
      case 'codeReference':
        return `<label>Reference code of conduct?</label>
          <select id="codeReference"><option value="yes">Yes</option><option value="no">No</option></select>`;
      case 'publicDisclosure':
        return `<label>Share policy publicly?</label>
          <select id="publicDisclosure"><option value="yes">Yes</option><option value="no">No</option></select>`;
      case 'explainability':
        return `<label>Require employees to explain AI decisions?</label>
          <select id="explainability"><option value="yes">Yes</option><option value="no">No</option></select>`;
      case 'training':
        return `<label>Require employee training?</label>
          <select id="training"><option value="yes">Yes</option><option value="no">No</option></select>`;
      case 'acknowledgment':
        return `<label>Require acknowledgment of policy?</label>
          <select id="acknowledgment"><option value="yes">Yes</option><option value="no">No</option></select>`;
      case 'vendorOversight':
        return `<label>Require vendor & third-party AI compliance?</label>
          <select id="vendorOversight"><option value="yes">Yes</option><option value="no">No</option></select>`;
      case 'riskAssessment':
        return `<label>Require AI risk assessments before deployment?</label>
          <select id="riskAssessment"><option value="yes">Yes</option><option value="no">No</option></select>`;
      case 'incidentProcess':
        return `<label>Have incident reporting & response process?</label>
          <select id="incidentProcess"><option value="yes">Yes</option><option value="no">No</option></select>`;
      case 'enforcement':
        return `<label>Specify consequences for violations?</label>
          <select id="enforcement"><option value="yes">Yes</option><option value="no">No</option></select>`;
      case 'publicComm':
        return `<label>Publicly communicate AI practices?</label>
          <select id="publicComm"><option value="yes">Yes</option><option value="no">No</option></select>`;
      case 'reviewFrequency':
        return `<label>Policy review frequency:</label>
          <select id="reviewFrequency">
            <option value="annually">Annually</option>
            <option value="semi-annually">Semi-annually</option>
            <option value="as-needed">As needed</option>
          </select>`;
      case 'responsibleTeam':
        return `<label>Responsible team for policy review:</label><input type="text" id="responsibleTeam">`;
      case 'signOff':
        return `<label>Require sign-off from employees?</label>
          <select id="signOff"><option value="yes">Yes</option><option value="no">No</option></select>`;
      default:
        return '';
    }
  }

  function saveStepData() {
    steps[currentStep].fields.forEach(field => {
      const el = document.getElementById(field);
      if (!el) return;
      if (el.type === 'checkbox') {
        formData[field] = el.checked;
      } else if (el.multiple) {
        formData[field] = Array.from(el.selectedOptions).map(option => option.value);
      } else {
        formData[field] = el.value;
      }
    });
  }

  function nextStep() {
    saveStepData();
    currentStep++;
    renderStep();
  }

  function prevStep() {
    currentStep--;
    renderStep();
  }

  function skipStep() {
    currentStep++;
    renderStep();
  }

  function showInfo(text) {
    modalText.innerHTML = text;
    modal.style.display = 'block';
  }

  closeModal.onclick = function() {
    modal.style.display = 'none';
  };
  window.onclick = function(event) {
    if (event.target == modal) {
      modal.style.display = 'none';
    }
  };
  function renderFinal() {
    const formal = formData.tone === 'formal';
    let policy = `<h2>${formData.companyName || '[Company Name]'} AI Policy</h2>`;
    policy += `<p><strong>Industry:</strong> ${formData.industry || 'General'}<br><strong>Jurisdiction:</strong> ${formData.jurisdiction || '[Jurisdiction]'}</p>`;

    // Introduction & Purpose
    policy += `<h3>Introduction & Purpose</h3>`;
    policy += formal
      ? `<p>This policy establishes comprehensive guidelines governing the ethical, secure, and legally compliant use of artificial intelligence (AI) technologies within ${formData.companyName || 'the Company'}. It underscores our commitment to safeguarding personal data, protecting trade secrets, and preserving public trust, in compliance with applicable laws in ${formData.jurisdiction || '[Jurisdiction]'}. All employees and stakeholders are expected to uphold these principles without exception.</p>`
      : `<p>This policy explains how ${formData.companyName || 'our company'} uses AI responsibly and safely, protects data, follows the laws of ${formData.jurisdiction || '[Jurisdiction]'}, and builds trust with customers and partners. Everyone must follow these guidelines to keep our practices ethical and secure.</p>`;

    // Scope
    policy += `<h3>Scope</h3>`;
    policy += formData.scope === 'employees'
      ? `<p>This policy applies to all employees who interact with or use AI tools.</p>`
      : `<p>This policy applies to all employees, contractors, interns, and partners who interact with or use AI tools within ${formData.companyName || 'the Company'}.</p>`;

    // Definitions
    if (formData.includeDefinitions === 'yes') {
      policy += `<h3>Definitions</h3>`;
      policy += `<p><strong>Artificial Intelligence (AI):</strong> Technologies that enable machines to perform tasks that typically require human intelligence, including learning and problem-solving.</p>`;
      policy += `<p><strong>Machine Learning:</strong> A subset of AI focused on training algorithms to learn from data and make predictions or decisions.</p>`;
      policy += `<p><strong>Large Language Models (LLMs):</strong> Advanced AI models trained on large datasets to generate or analyze text (e.g., ChatGPT).</p>`;
      policy += `<p><strong>Personal Data:</strong> Any information relating to an identified or identifiable individual.</p>`;
      policy += `<p><strong>Trade Secrets:</strong> Confidential business information that provides a competitive edge.</p>`;
      policy += `<p><strong>Bias & Fairness:</strong> Measures to ensure AI outputs are not discriminatory and are equitable across groups.</p>`;
    }

    // Data Privacy & Security
    if (formData.personalData || formData.tradeSecrets || formData.financialData) {
      policy += `<h3>Data Privacy & Security</h3><ul>`;
      if (formData.personalData) policy += `<li>Personal data is protected and never shared with public AI systems without explicit authorization and robust security safeguards.</li>`;
      if (formData.tradeSecrets) policy += `<li>Trade secrets and confidential business information are secured and never disclosed to unauthorized AI systems or third parties.</li>`;
      if (formData.financialData) policy += `<li>Financial data is handled under strict compliance and security protocols.</li>`;
      if (formData.encryption === 'yes') policy += `<li>Encryption and secure access measures are mandatory for all AI data storage and processing activities.</li>`;
      policy += `</ul>`;
    }

    // Prohibited Use Cases
    policy += `<h3>Prohibited Use Cases</h3><ul>`;
    if (formData.prohibitedUses && formData.prohibitedUses.length > 0) {
      formData.prohibitedUses.forEach(useCase => {
        policy += `<li>${useCase}</li>`;
      });
    }
    if (formData.customProhibited) {
      policy += `<li>${formData.customProhibited}</li>`;
    }
    policy += `</ul>`;

    // Approved Use & Governance
    policy += `<h3>Approved Use & Governance</h3>`;
    policy += formData.approvedTools === 'yes'
      ? `<p>Only approved AI tools listed by ${formData.companyName || 'the Company'} are permitted for use.</p>`
      : `<p>There is no maintained list of approved AI tools at this time.</p>`;
    policy += formData.requireApproval === 'yes'
      ? `<p>All new AI tools require formal approval by designated leadership or compliance teams prior to use.</p>`
      : `<p>New AI tools do not require explicit pre-approval at this time.</p>`;

    // IP & Trade Secrets
    policy += `<h3>Intellectual Property & Trade Secrets</h3>`;
    policy += formData.ipOwnership === 'yes'
      ? `<p>All outputs generated by AI systems using ${formData.companyName || 'the Company'} data are considered company-owned intellectual property.</p>`
      : `<p>AI outputs are not explicitly assigned to company ownership by default.</p>`;
    policy += formData.protectTradeSecrets === 'yes'
      ? `<p>Employees are expected to safeguard trade secrets at all times, adhering to all applicable confidentiality agreements and protocols.</p>`
      : `<p>General trade secret protections are maintained, but no additional emphasis is outlined here.</p>`;

    // Fairness & Bias
    policy += `<h3>Fairness & Bias Mitigation</h3>`;
    policy += formData.biasReview === 'yes'
      ? `<p>Regular fairness and bias reviews must be conducted to ensure AI outputs do not lead to discrimination or inequitable treatment.</p>`
      : `<p>No formal bias reviews are mandated at this time.</p>`;

    // Compliance & Legal
    policy += `<h3>Compliance & Legal</h3><ul>`;
    if (formData.laws && formData.laws.length > 0) {
      formData.laws.forEach(law => {
        policy += `<li>Compliance with ${law}</li>`;
      });
    }
    if (formData.customLaws) {
      policy += `<li>${formData.customLaws}</li>`;
    }
    policy += `</ul>`;
    policy += formData.codeReference === 'yes'
      ? `<p>This policy aligns with the company’s internal code of conduct and privacy policies.</p>`
      : `<p>No explicit reference to internal code of conduct is included.</p>`;
    policy += `<p>This policy is governed under the laws of ${formData.jurisdiction || '[Jurisdiction]'}, and disputes will be handled accordingly.</p>`;

    // Transparency & Explainability
    policy += `<h3>Transparency & Explainability</h3>`;
    policy += formData.publicDisclosure === 'yes'
      ? `<p>AI practices and system usages are disclosed publicly to maintain transparency and stakeholder trust.</p>`
      : `<p>AI practices are not publicly disclosed at this time.</p>`;
    policy += formData.explainability === 'yes'
      ? `<p>Employees must be able to provide clear, understandable explanations for AI decision-making processes when requested by stakeholders or customers.</p>`
      : `<p>Employees are not required to explain AI decision-making processes to external parties.</p>`;

    // Training & Awareness
    policy += `<h3>Training & Awareness</h3>`;
    policy += formData.training === 'yes'
      ? `<p>All employees must undergo mandatory AI safety and ethics training and periodic refreshers.</p>`
      : `<p>AI training is optional and provided as needed.</p>`;
    policy += formData.acknowledgment === 'yes'
      ? `<p>Employees are required to formally acknowledge they have read and understood this policy.</p>`
      : `<p>No formal acknowledgment is required.</p>`;

    // Vendor & Third-party Oversight
    policy += `<h3>Vendor & Third-party Oversight</h3>`;
    policy += formData.vendorOversight === 'yes'
      ? `<p>All third-party vendors providing AI tools or services must comply with ${formData.companyName || 'the Company'} security, privacy, and ethical standards before engagement.</p>`
      : `<p>No explicit third-party AI vendor compliance requirements are currently mandated.</p>`;

    // Risk Assessment
    policy += `<h3>Risk Assessment</h3>`;
    policy += formData.riskAssessment === 'yes'
      ? `<p>Risk assessments must be conducted before deploying new AI systems to evaluate legal, ethical, security, and operational impacts.</p>`
      : `<p>Formal pre-deployment AI risk assessments are not required at this time.</p>`;

    // Incident Reporting & Response
    policy += `<h3>Incident Reporting & Response</h3>`;
    policy += formData.incidentProcess === 'yes'
      ? `<p>A clear incident reporting and response process is in place to address misuse, breaches, or security events involving AI systems.</p>`
      : `<p>No formal AI-specific incident reporting process is defined.</p>`;

    // Enforcement
    policy += `<h3>Enforcement</h3>`;
    policy += formData.enforcement === 'yes'
      ? `<p>Violations of this policy may result in disciplinary action, up to and including termination of employment, as well as potential legal consequences.</p>`
      : `<p>No specific enforcement actions are detailed.</p>`;

    // Public Communication
    policy += `<h3>Public Communication</h3>`;
    policy += formData.publicComm === 'yes'
      ? `<p>We publicly share updates on AI governance and ethical practices through reports or statements.</p>`
      : `<p>Public communications on AI governance are not provided at this time.</p>`;

    // Review & Updates
    policy += `<h3>Review & Updates</h3>`;
    policy += `<p>This policy is reviewed ${formData.reviewFrequency || 'annually'} to ensure relevance and compliance with evolving regulations and practices.</p>`;
    policy += formData.responsibleTeam
      ? `<p>The responsible team for this review is: ${formData.responsibleTeam}.</p>`
      : `<p>A designated compliance or governance team oversees policy reviews.</p>`;

    // Sign-off
    policy += `<h3>Sign-off & Acknowledgment</h3>`;
    policy += formData.signOff === 'yes'
      ? `<p>All employees and relevant parties must sign or formally acknowledge this policy before engaging with AI systems.</p>`
      : `<p>Formal sign-off is not required.</p>`;

    // Appendix
    if (formData.includeDefinitions === 'yes') {
      policy += `<h3>Appendix: Definitions & Examples</h3>`;
      policy += `<p>This appendix provides additional context and examples of key terms to support clarity and understanding across ${formData.companyName || 'the Company'}.</p>`;
      policy += `<ul>
        <li><strong>Example AI systems:</strong> Automated document review tools, generative AI chatbots, fraud detection algorithms.</li>
        <li><strong>Example personal data:</strong> Names, email addresses, employee IDs, health records.</li>
        <li><strong>Example trade secrets:</strong> Proprietary algorithms, non-public financial models, product design plans.</li>
      </ul>`;
    }

    policy += `<hr><p><em>Generated with AI Policy Builder. Please review with your legal and compliance teams before use. No liability assumed.</em></p>`;

    wizardDiv.innerHTML = `<h2>Preview & Copy</h2>
      <div class="policy-output">${policy}</div>
      <button onclick="copyRichText()">Copy to Clipboard</button>`;
  }

  function copyRichText() {
    const div = document.querySelector('.policy-output');
    const range = document.createRange();
    range.selectNode(div);
    window.getSelection().removeAllRanges();
    window.getSelection().addRange(range);
    try {
      document.execCommand('copy');
      alert("Formatted policy copied to clipboard!");
    } catch (err) {
      alert("Failed to copy. Please select manually.");
    }
    window.getSelection().removeAllRanges();
  }

  renderStep();
</script>
</body>
</html>
